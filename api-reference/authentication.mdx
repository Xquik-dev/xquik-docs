---
title: Authentication
description: API key authentication, key format, and dual auth endpoints
keywords: ["api key", "authentication", "x-api-key", "session cookie", "security"]
---

Xquik uses API key authentication for all developer-facing endpoints.

## API Key Format

Keys follow this format:

```
xq_a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2
```

- **Prefix:** `xq_`
- **Body:** 64 hexadecimal characters
- **Storage:** SHA-256 hashed in database (raw key never stored)

## Using Your API Key

Pass the key in the `x-api-key` header:

<CodeGroup>

```bash cURL
curl https://xquik.com/api/v1/account \
  -H "x-api-key: xq_YOUR_KEY_HERE"
```

```javascript Node.js
const response = await fetch("https://xquik.com/api/v1/account", {
  headers: { "x-api-key": "xq_YOUR_KEY_HERE" },
});
```

```python Python
import requests

response = requests.get(
    "https://xquik.com/api/v1/account",
    headers={"x-api-key": "xq_YOUR_KEY_HERE"},
)
```

```go Go
package main

import (
	"fmt"
	"io"
	"net/http"
)

func main() {
	req, _ := http.NewRequest("GET", "https://xquik.com/api/v1/account", nil)
	req.Header.Set("x-api-key", "xq_YOUR_KEY_HERE")

	resp, err := http.DefaultClient.Do(req)
	if err != nil {
		panic(err)
	}
	defer resp.Body.Close()

	body, _ := io.ReadAll(resp.Body)
	fmt.Println(string(body))
}
```

</CodeGroup>

## Auth Methods by Endpoint

Most endpoints support **dual authentication**: either an API key or a session cookie from the dashboard.

| Endpoint | API Key | Session Cookie |
|----------|---------|----------------|
| `GET /account` | Yes | No |
| `PATCH /account` | No | Yes |
| `POST /api-keys` | No | Yes |
| `GET /api-keys` | No | Yes |
| `DELETE /api-keys/:id` | No | Yes |
| `* /monitors/*` | Yes | Yes |
| `GET /events/*` | Yes | No |
| `* /webhooks/*` | Yes | Yes |
| `GET /webhooks/:id/deliveries` | Yes | No |
| `* /draws/*` | Yes | Yes |
| `* /extractions/*` | Yes | Yes |
| `* /x/*` | Yes | Yes |

<Info>
  API key management endpoints (`/api-keys`) require session authentication to prevent key self-management loops.
</Info>

## Key Management

### Create a Key

Generate keys from the **API Keys** page in your dashboard or via the API (session auth only):

```bash
curl -X POST https://xquik.com/api/v1/api-keys \
  -H "Cookie: session=YOUR_SESSION" \
  -H "Content-Type: application/json" \
  -d '{"name": "Production"}'
```

The full key (`fullKey`) is returned **once** in the creation response. Store it securely.

### Revoke a Key

```bash
curl -X DELETE https://xquik.com/api/v1/api-keys/123 \
  -H "Cookie: session=YOUR_SESSION"
```

Revoked keys are deactivated immediately and cannot be reactivated.

## Error Response

Invalid or missing API key returns:

```json
{
  "error": "unauthenticated"
}
```

**Status:** `401 Unauthorized`

## Security Best Practices

<AccordionGroup>
  <Accordion title="Store keys in environment variables">
    Never hardcode API keys in your source code. Use environment variables to keep keys separate from your codebase:

    ```bash .env
    XQUIK_API_KEY=xq_a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2
    ```

    Access the key in your application:

    <CodeGroup>

    ```javascript Node.js
    const apiKey = process.env.XQUIK_API_KEY;
    ```

    ```python Python
    import os

    api_key = os.environ["XQUIK_API_KEY"]
    ```

    ```go Go
    apiKey := os.Getenv("XQUIK_API_KEY")
    ```

    </CodeGroup>
  </Accordion>
  <Accordion title="Never commit keys to version control">
    Add `.env` to your `.gitignore` to prevent accidental commits:

    ```bash .gitignore
    # Environment variables
    .env
    .env.local
    .env.production
    ```

    If a key is accidentally committed, revoke it immediately from your dashboard and generate a new one. Consider the exposed key compromised even if you force-push to remove it from history.
  </Accordion>
  <Accordion title="Rotate keys regularly">
    Rotate API keys periodically to limit the impact of a potential leak:

    1. Create a new key from the dashboard
    2. Update the key in all your environments
    3. Verify all services work with the new key
    4. Revoke the old key

    Xquik supports multiple active keys, so you can rotate without downtime.
  </Accordion>
  <Accordion title="Use separate keys for development & production">
    Create distinct API keys for each environment. This limits blast radius if a development key is compromised and makes it easier to track usage per environment:

    ```bash .env.local
    # Development
    XQUIK_API_KEY=xq_dev_key_here
    ```

    ```bash .env.production
    # Production
    XQUIK_API_KEY=xq_prod_key_here
    ```

    Name your keys descriptively (e.g., "Production - Backend", "Staging", "Local Dev") so you can identify them in the dashboard.
  </Accordion>
</AccordionGroup>
